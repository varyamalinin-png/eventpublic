# üìä –ò—Ç–æ–≥–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

## üîç –ß—Ç–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∏—Å—Ö–æ–¥–Ω–æ–π VM:
1. ‚ùå SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–∞–π–º–∞—É—Ç –Ω–∞ –ø–æ—Ä—Ç—É 22)
2. ‚ùå –°–µ—Ä–∏–π–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚ö†Ô∏è User-data –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. **SSH —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω** –Ω–∞ VM
2. **Firewall (ufw) –±–ª–æ–∫–∏—Ä—É–µ—Ç** –ø–æ—Ä—Ç 22
3. **SSH –∫–ª—é—á –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω** –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ubuntu
4. **Security Groups** –º–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (—Ö–æ—Ç—è –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
5. **Cloud-init –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª** user-data –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é VM —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–≠—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±!** –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `STEP_BY_STEP_VM_CREATION.md`.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SSH –∫–ª—é—á–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Security Groups
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ 99% —Å–ª—É—á–∞–µ–≤

### –†–µ—à–µ–Ω–∏–µ 2: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å CLI –µ—â–µ —Ä–∞–∑

–Ø –ø—ã—Ç–∞—é—Å—å —Å–æ–∑–¥–∞—Ç—å VM —á–µ—Ä–µ–∑ CLI —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã:

```bash
yc compute instance get event-app-backend-v2 --format json | jq -r '.status, .network_interfaces[0].primary_v4_address.one_to_one_nat.address'
```

–ï—Å–ª–∏ VM —Å–æ–∑–¥–∞–Ω–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ SSH:

```bash
NEW_IP=$(yc compute instance get event-app-backend-v2 --format json | jq -r '.network_interfaces[0].primary_v4_address.one_to_one_nat.address')
ssh -i ~/.ssh/yandex-cloud ubuntu@$NEW_IP
```

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ï—Å–ª–∏ CLI —Å–æ–∑–¥–∞–ª VM —É—Å–ø–µ—à–Ω–æ:**
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
   - –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å–ª–µ–¥—É–π—Ç–µ `FINAL_SOLUTION.md`

2. **–ï—Å–ª–∏ CLI –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–†–µ—à–µ–Ω–∏–µ 1** (–≤–µ–±-–∫–æ–Ω—Å–æ–ª—å)
   - –≠—Ç–æ –∑–∞–π–º–µ—Ç 5-10 –º–∏–Ω—É—Ç, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç

3. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ `FINAL_SOLUTION.md`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, Redis, Node.js
   - –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ PM2

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è VM

- [ ] VM —Å–æ–∑–¥–∞–Ω–∞ –∏ –∑–∞–ø—É—â–µ–Ω–∞
- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Node.js, PostgreSQL, Redis)
- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω .env —Ñ–∞–π–ª
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ (npm run build)
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ PM2
- [ ] Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç (curl http://<IP>:4000/health)
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Security Groups:**
   - –ü–æ—Ä—Ç 22 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –¥–ª—è 0.0.0.0/0
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ—Ä–∏–π–Ω—É—é –∫–æ–Ω—Å–æ–ª—å:**
   - –í –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ VM ‚Üí –°–µ—Ä–∏–π–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ `ubuntu` (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—É—Å—Ç–æ–π –ø–∞—Ä–æ–ª—å)
   - –í—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH: `sudo systemctl start ssh`

3. **–°–æ–∑–¥–∞–π—Ç–µ VM –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å:**
   - –≠—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
   - –°–ª–µ–¥—É–π—Ç–µ `STEP_BY_STEP_VM_CREATION.md`

## üìû –î–æ–∫—É–º–µ–Ω—Ç—ã

- `STEP_BY_STEP_VM_CREATION.md` - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è VM
- `FINAL_SOLUTION.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `COMPLETE_DIAGNOSTIC_REPORT.md` - –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- `URGENT_FIX_VM.md` - –°—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

