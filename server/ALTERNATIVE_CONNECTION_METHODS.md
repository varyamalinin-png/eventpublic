# üîå –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VM

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –í–ú –ø–æ SSH" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–µ—Ä–∏–π–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å (Serial Console)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Yandex Cloud Console](https://console.cloud.yandex.ru)
2. Compute Cloud ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã ‚Üí `event-app-backend`
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–°–µ—Ä–∏–π–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å"** –∏–ª–∏ **"Serial Console"**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
5. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–µ—Ä–∏–π–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ï—Å–ª–∏ –µ—ë –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ CLI Yandex Cloud (–µ—Å–ª–∏ –ø–æ—Ä—Ç 22 –æ—Ç–∫—Ä–æ–µ—Ç—Å—è)

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç:

```bash
yc compute ssh --id epd9ieglfvra51stsh64 --identity-file ~/.ssh/yandex-cloud --login ubuntu
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ –≤–∫–ª–∞–¥–∫–∏/—Ä–∞–∑–¥–µ–ª—ã

–í –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ VM –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã:
- **"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"** / **"Connection"**
- **"–î–æ—Å—Ç—É–ø"** / **"Access"**
- **"–¢–µ—Ä–º–∏–Ω–∞–ª"** / **"Terminal"**
- **"–ö–æ–Ω—Å–æ–ª—å"** / **"Console"**

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ—Ä—Ç–∞)

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ—Ä—Ç–æ–≤ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

```bash
ssh -i ~/.ssh/yandex-cloud ubuntu@51.250.105.190
```

### –í–∞—Ä–∏–∞–Ω—Ç 5: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é VM —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º SSH –∫–ª—é—á–æ–º

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å VM:

1. –£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â—É—é VM
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é VM —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å
3. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ SSH –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ "–î–æ—Å—Ç—É–ø" ‚Üí "SSH-–∫–ª—é—á–∏"
4. –í—Å—Ç–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á: `ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDZewwNpteyUcXGqzc2BuE8E8gCXDVr5VzAetcnV8jFIbBAbLxshM6qoZy9t+F3BDRTlT1PSRSI5DIocFNlezdgEUNSkY2kUCcRnosioTi02YyjK/6atC83oDadf2qbxr0k5Owwv08Emc5FvE2n+qDErW4jCAslYQd8bp37zoSnVeFZtjNIU0+IodIHHYEBFYlnUTGokKBbPbYm3T5mcrCj6oYtBCOT42z6C4t2Rx0u4vqhzmv+r2DzZlbk9DTTXBw8dhoy0IaDo5bR4NDcrQQRkf8AyqXbPvwmK68a73/nFUaAzpYm/iuDO4FxcgjKHBqM+zFuzUE7+tToTdlMIXJ0mcnUUtLgxvLFGPCVYZq6NSi2Cx96r9xqSXJw2xn2cQRB0G2pUWyWsxkmY98C8rpryd3qYvNUoeEBxu1JJy23P1hf42MIBYsTj3O2MtHQvvD8V6bt5kjt4y6eVaXUVHPh7Uj7OWWTLlHZM7lXTILG3J7udK+X+2vOodEQrI7L0/BPee9hZj4By8mr937Rj7gt0hRo+JWF9dRptDJdecgZxpxIsRtAt6xn9YoWFHkkO/l0dq4yX0e9ea9J8p/RljDukTbmYPCoCs57f0kAqA2vmIKkyJPFIJWMI81SGquVm6TNQ79rAD0SNkh/w48sNVAowFQwpGSnNtxc7NfMGbqenQ== yandex-cloud-vm`

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ VM –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í–∫–ª–∞–¥–∫–∞ "–û–±–∑–æ—Ä"** - –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. **–í–∫–ª–∞–¥–∫–∞ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"** - –∏–Ω–æ–≥–¥–∞ —Ç–∞–º –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å–æ–ª–∏
3. **–í–∫–ª–∞–¥–∫–∞ "–û–ø–µ—Ä–∞—Ü–∏–∏"** - –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
4. **–ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å** - –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" –∏–ª–∏ "Connect"

## ‚è∞ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å SSH

–ü—Ä–∞–≤–∏–ª–∞ Security Groups –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –¥–æ 5-10 –º–∏–Ω—É—Ç. 

**–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç** –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ SSH:

```bash
ssh -i ~/.ssh/yandex-cloud ubuntu@51.250.105.190
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è - –æ—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞–ø–∏—à–∏—Ç–µ, –∏ –º—ã –Ω–∞–π–¥–µ–º –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å (–ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd ~/event_app_new/server
sudo systemctl start postgresql
sudo systemctl enable postgresql
npx prisma db push --accept-data-loss
pm2 delete event-app 2>/dev/null || true
pm2 start dist/main.js --name event-app
pm2 save
pm2 status
curl http://localhost:4000/health
```

## ‚úÖ –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:
- **API**: http://51.250.105.190:4000
- **Health**: http://51.250.105.190:4000/health

