# ‚úÖ VM —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞!

## üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ VM

- **–ò–º—è**: event-app-backend
- **IP –∞–¥—Ä–µ—Å**: 51.250.105.190
- **–ó–æ–Ω–∞**: ru-central1-b
- **–°—Ç–∞—Ç—É—Å**: RUNNING
- **SSH**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

## üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
ssh -i ~/.ssh/yandex-cloud ubuntu@51.250.105.190
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

- ‚úÖ Node.js 20.x
- ‚úÖ npm
- ‚úÖ PM2
- ‚úÖ Redis
- ‚úÖ Git
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω

## ‚úÖ –£–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

- ‚úÖ Node.js 20.19.6 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ npm 10.8.2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≤–∫–ª—é—á–µ–Ω
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install --legacy-peer-deps`)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (`.env` —Ñ–∞–π–ª)
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (Prisma –º–∏–≥—Ä–∞—Ü–∏–∏)
3. **–°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `npm run build`
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ PM2

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VM
ssh -i ~/.ssh/yandex-cloud ubuntu@51.250.105.190

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd ~/event_app_new/server

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --legacy-peer-deps

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª
nano .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:migrate

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ PM2
pm2 start dist/main.js --name event-app
pm2 save
pm2 startup
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- VM (2 vCPU, 4GB RAM, 20GB –¥–∏—Å–∫, IP): ~2077‚ÇΩ/–º–µ—Å
- Managed PostgreSQL (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–¥–∏—Ç–µ): ~2000‚ÇΩ/–º–µ—Å

