# Настройка Firewall в Яндекс.Клауд для iventapp.ru

## Проблема
Порт 443 (HTTPS) может быть закрыт в Security Groups Яндекс.Клауд, из-за чего сайт недоступен извне.

## Решение

### 1. Откройте консоль Яндекс.Клауд
https://console.cloud.yandex.ru/

### 2. Найдите вашу виртуальную машину
- Перейдите в раздел "Compute Cloud" → "Virtual machines"
- Найдите VM с IP `89.169.173.152`

### 3. Откройте Security Groups
- В карточке VM найдите раздел "Network" или "Security Groups"
- Или перейдите в раздел "VPC" → "Security Groups"

### 4. Добавьте правило для порта 443
Создайте или отредактируйте Security Group и добавьте правило:

**Входящее правило (Ingress):**
- Протокол: TCP
- Порт: 443
- Источник: 0.0.0.0/0 (или конкретные IP, если нужна безопасность)
- Описание: HTTPS для iventapp.ru

**Также убедитесь, что открыты:**
- Порт 80 (HTTP) - для редиректа на HTTPS
- Порт 22 (SSH) - для управления

### 5. Примените изменения
- Сохраните Security Group
- Изменения применяются автоматически (обычно в течение 1-2 минут)

### 6. Проверка
После применения правил проверьте:
```bash
curl -I https://iventapp.ru
```

Если видите HTTP 200 - всё работает!

## Альтернативный способ (через CLI)

Если у вас установлен Yandex Cloud CLI:

```bash
yc vpc security-group rule create \
  --security-group-id <ID_GROUP> \
  --direction ingress \
  --protocol tcp \
  --port 443 \
  --cidr 0.0.0.0/0
```

## Текущий статус портов на VM

- ✅ Порт 80 (HTTP) - открыт, работает
- ✅ Порт 443 (HTTPS) - nginx слушает, но может быть закрыт в Security Groups
- ✅ Порт 3000 (Next.js) - работает локально
- ✅ Порт 4000 (Backend) - работает локально

