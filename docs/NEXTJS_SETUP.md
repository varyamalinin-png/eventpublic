# Настройка Next.js для продакшна

## Структура проекта

```
event_app_new/
  ├── client/          # Expo для разработки
  │   ├── app/         # Expo Router страницы
  │   ├── context/     # Контексты (Auth, Events, Language)
  │   ├── components/  # Компоненты
  │   └── hooks/       # Хуки
  │
  └── web/             # Next.js для продакшна
      ├── src/
      │   ├── app/     # Next.js App Router
      │   └── components/
      └── package.json
```

## План миграции

### Этап 1: Базовая настройка ✅
- [x] Создать Next.js проект
- [x] Настроить TypeScript
- [x] Настроить webpack для react-native-web

### Этап 2: Импорт контекстов ✅
- [x] Создать адаптеры для контекстов
- [x] Настроить импорты из client/
- [x] Протестировать работу контекстов

### Этап 3: Роутинг ✅
- [x] Создать страницы в Next.js App Router
- [x] Настроить динамические маршруты
- [x] Адаптировать навигацию

### Этап 4: Компоненты ✅
- [x] Импортировать компоненты из client/
- [x] Адаптировать для Next.js
- [x] Протестировать рендеринг

### Этап 5: Деплой ✅
- [x] Настроить сборку
- [x] Задеплоить на сервер
- [x] Настроить Nginx для Next.js

## Команды

```bash
# Разработка Next.js
cd web
npm run dev

# Сборка для продакшна
npm run build

# Деплой на сервер
../scripts/deploy-nextjs-to-vm.sh
```

## Важно

- **client/** остается для разработки через Expo
- **web/** используется только для продакшна
- Контексты и хуки переиспользуются из client/
- Компоненты могут потребовать адаптации для Next.js

